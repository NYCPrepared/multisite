function ninja_forms_new_field_response(e){jQuery("#ninja_forms_field_list").append(e.new_html).show("slow");if(e.new_type=="List"){jQuery(".ninja-forms-field-list-options").sortable({helper:"clone",handle:".ninja-forms-drag",items:"div",placeholder:"ui-state-highlight"})}if(typeof e.edit_options!="undefined"){for(var t=0;t<e.edit_options.length;t++){if(e.edit_options[t].type=="rte"){var n="ninja_forms_field_"+e.new_id+"["+e.edit_options[t].name+"]";tinyMCE.execCommand("mceRemoveControl",false,n);tinyMCE.execCommand("mceAddControl",true,n)}}}jQuery(".ninja-forms-field-conditional-cr-field").each(function(){jQuery(this).append('<option value="'+e.new_id+'">'+e.new_type+"</option>")});jQuery("#ninja_forms_field_"+e.new_id+"_toggle").click();jQuery("#ninja_forms_field_"+e.new_id+"_label").focus();jQuery(document).trigger("addField",[e])}function ninja_forms_escape_html(e){var t=document.createElement("textarea");t.innerHTML=e;return t.innerHTML}(function(e){"$:nomunge";e.fn.serializeFullArray=function(){var t=e(this).serializeArray();var n={};for(var r in t){if(!t.hasOwnProperty(r))continue;var i=t[r].name.split(/\]|\[/);i=e.grep(i,function(e){return e!=""});var s=n;for(var o in i){if(!i.hasOwnProperty(o))continue;var u=i[o];var a={};if(o==i.length-1){var a=t[r].value}var f={};f[u]=a;e.extend(true,s,f);s=s[u]}}return n}})(jQuery);jQuery.fn.tinymce_textareas=function(){tinyMCE.init({skin:"wp_theme"})};jQuery.fn.nextElementInDom=function(e,t){var n={stopAt:"body"};t=jQuery.extend(n,t);var r=jQuery(this).parent();var i=r.find(e);switch(true){case i.length>0:return i;case r.length===0||r.is(t.stopAt):return jQuery([]);default:return r.nextElementInDom(e)}};jQuery(document).ready(function(e){e(".ninja-forms-admin-date").datepicker({dateFormat:ninja_forms_settings.date_format});e(".ninja-forms-select-all").click(function(){var t=this.title;var n=this.checked;e("."+t).prop("checked",n)});e("#ajax").change(function(t){if(this.checked){e(".ajax-hide").hide();e(".no-ajax-hide").show()}else{e(".ajax-hide").show();e(".no-ajax-hide").hide()}});e(".landing-page-select").change(function(t){if(this.value==""){e(".landing-page-hide").show()}else{e(".landing-page-hide").hide()}});e(document).on("click",".item-edit",function(t){t.preventDefault();e(this).nextElementInDom(".inside:first").toggle();if(e(this).hasClass("metabox-item-edit")){var n=e("#_page").val();var r=e("#_tab").val();var i=e(this).parent().parent().prop("id").replace("ninja_forms_metabox_","");if(e(this).nextElementInDom(".inside:first").is(":visible")){var s=""}else{var s="display:none;"}e.post(ajaxurl,{page:n,tab:r,slug:i,state:s,action:"ninja_forms_save_metabox_state"})}});e("#side-sortables").sortable({placeholder:"ui-state-highlight",helper:"clone",handle:".hndl",stop:function(t,n){var r=e("#side-sortables").sortable("toArray");var i=e("#_page").val();var s=e("#_tab").val();e.post(ajaxurl,{order:r,page:i,tab:s,action:"ninja_forms_side_sortable"},function(e){})}});e(document).on("keydown","form input",function(t){if(t.keyCode==13){var n=e(this).attr("type");if(n!="textarea"){return false}}});e("#title").keydown(function(){if(this.value==""){e("#title-prompt-text").removeClass("screen-reader-text")}else{e("#title-prompt-text").addClass("screen-reader-text")}});e("#title").keyup(function(){if(this.value==""){e("#title-prompt-text").removeClass("screen-reader-text")}else{e("#title-prompt-text").addClass("screen-reader-text")}});e(".hndle").dblclick(function(t){e(this).prevAll(".item-controls:first").find("a").click()});e(".ninja-forms-field-list").sortable({handle:".menu-item-handle",items:"li:not(.not-sortable)",connectWith:".ninja-forms-field-list",start:function(t,n){var r=e(n.item).find(".wp-editor-wrap").length;if(r>0){e(n.item).find(".wp-editor-wrap").each(function(){var e=this.id.replace("wp-","");e=e.replace("-wrap","");tinyMCE.execCommand("mceRemoveControl",false,e)})}},stop:function(t,n){var r=e(n.item).find(".wp-editor-wrap").length;if(r>0){e(n.item).find(".wp-editor-wrap").each(function(){var e=this.id.replace("wp-","");e=e.replace("-wrap","");tinyMCE.execCommand("mceAddControl",true,e)})}e(this).sortable("refresh")}});e(".ninja-forms-save-data").click(function(t){var n=e("#ninja_forms_field_list").sortable("toArray");e("#ninja_forms_field_order").val(n)});e(".ninja-forms-new-field").click(function(t){t.preventDefault();var n=this.name.replace("_","");var r=this.id;var i=e("#_form_id").val();if(n!=""){var s=e("."+r+"-li").length}else{var s=""}if(n!=""&&s<n||n==""||s==""||s==0){e.post(ajaxurl,{type:r,form_id:i,action:"ninja_forms_new_field"},ninja_forms_new_field_response)}else{e(this).addClass("disabled")}});e(document).on("keyup",".ninja-forms-field-label",function(){var t=this.id.replace("ninja_forms_field_","");t=t.replace("_label","");var n=this.value;n=ninja_forms_escape_html(n);if(e.trim(n)==""){n=e(this).parent().parent().parent().prev().find(".item-type:first").prop("innerHTML")}e("#ninja_forms_field_"+t+"_title").prop("innerHTML",n);if(n.length>15){n=n.substring(0,15);n+="..."}e(".ninja-forms-field-conditional-cr-field option[value='"+t+"']").each(function(){e(this).text(t+" - "+n)});e(".ninja-forms-calc-select option[value='"+t+"']").each(function(){e(this).text(t+" - "+n)})});e(document).on("change",".ninja-forms-show-help",function(t){var n=this.id.replace("ninja_forms_field_","");n=n.replace("_show_help","");if(this.checked){e("#ninja_forms_field_"+n+"_help_span").show()}else{e("#ninja_forms_field_"+n+"_help_span").hide()}});e(document).on("change",".ninja-forms-show-desc",function(t){var n=this.id.replace("ninja_forms_field_","");n=n.replace("_show_desc","");if(this.checked){e("#ninja_forms_field_"+n+"_desc_span").show()}else{e("#ninja_forms_field_"+n+"_desc_span").hide()}});e(".ninja-forms-delete-form").click(function(t){t.preventDefault();var n=this.id.replace("ninja_forms_delete_form_","");var r=confirm("Really delete this form? (Irreversible)");if(r){e.post(ajaxurl,{form_id:n,action:"ninja_forms_delete_form"},function(t){e("#ninja_forms_form_"+n+"_tr").css("background-color","#FF0000").fadeOut("slow",function(){e(this).remove()})})}});e(document).on("click",".ninja-forms-field-remove",function(t){t.preventDefault();var n=this.id.replace("ninja_forms_field_","");n=n.replace("_remove","");var r=confirm("Remove this field? It will be removed even if you do not save.");if(r){e.post(ajaxurl,{field_id:n,action:"ninja_forms_remove_field"},function(){e("#ninja_forms_field_"+n).remove();e(document).trigger("removeField",[n]);e(".ninja-forms-field-conditional-cr-field").each(function(){e(this).children("option").each(function(){if(this.value==n){e(this).remove()}})})})}});e(".ninja-forms-delete-sub").click(function(t){t.preventDefault();var n=this.id.replace("ninja_forms_sub_","");var r=confirm("Permenantly delete this item?");if(r){e.post(ajaxurl,{sub_id:n,action:"ninja_forms_delete_sub"},function(t){e("#ninja_forms_sub_"+n+"_tr").css("background-color","#FF0000").fadeOut("slow",function(){e(this).remove()})})}});e(document).on("change",".ninja-forms-_text-default-value",function(){var t=this.id.replace("default_value_","");if(this.value=="_custom"){e("#ninja_forms_field_"+t+"_default_value").val("");e("#default_value_label_"+t).show();e("#ninja_forms_field_"+t+"_default_value").focus()}else{e("#default_value_label_"+t).hide();e("#ninja_forms_field_"+t+"_default_value").val(this.value)}if(this.value!=""&&this.value!="today"){e("#ninja_forms_field_"+t+"_datepicker").prop("checked",false);if(this.value!="_user_email"){e("#ninja_forms_field_"+t+"_email").prop("checked",false);e("#ninja_forms_field_"+t+"_send_email").prop("checked",false)}}});e(document).on("change",".ninja-forms-_text-mask",function(){var t=this.id.replace("mask_","");if(this.value=="_custom"){e("#ninja_forms_field_"+t+"_mask").val("");e("#mask_label_"+t).show();e("#ninja_forms_field_"+t+"_mask").focus()}else{e("#mask_label_"+t).hide();e("#ninja_forms_field_"+t+"_mask").val(this.value)}if(this.value!=""){e("#ninja_forms_field_"+t+"_datepicker").prop("checked",false);e("#ninja_forms_field_"+t+"_email").prop("checked",false);e("#ninja_forms_field_"+t+"_send_email").prop("checked",false)}});e(document).on("click",".ninja-forms-mask-help",function(t){t.preventDefault();if(!e("#tab-panel-mask_help").is(":visible")){e("#tab-link-mask_help").find("a").click();e("#contextual-help-link").click().focus()}});e(document).on("change",".ninja-forms-_text-datepicker",function(){var t=this.id.replace("ninja_forms_field_","");t=t.replace("_datepicker","");if(this.checked==true){if(e("#ninja_forms_field_"+t+"_mask").val()!="today"){e("#ninja_forms_field_"+t+"_mask").val("")}e("#default_value_"+t).val("");e("#default_value_label_"+t).hide();e("#mask_"+t).val("");e("#mask_label_"+t).hide();e("#ninja_forms_field_"+t+"_email").prop("checked",false);e("#ninja_forms_field_"+t+"_send_email").prop("checked",false);e("#ninja_forms_field_"+t+"_from_email").prop("checked",false)}});e(document).on("change",".ninja-forms-_text-email",function(){var t=this.id.replace("ninja_forms_field_","");t=t.replace("_email","");if(this.checked==true){if(e("#ninja_forms_field_"+t+"_default_value").val()!="_user_email"){e("#ninja_forms_field_"+t+"_default_value").val("");e("#default_value_"+t).val("");e("#default_value_label_"+t).hide()}e("#ninja_forms_field_"+t+"_mask").val("");e("#mask_"+t).val("");e("#mask_label_"+t).hide();e("#ninja_forms_field_"+t+"_datepicker").prop("checked",false)}else{e("#ninja_forms_field_"+t+"_send_email").prop("checked",false);e("#ninja_forms_field_"+t+"_from_email").prop("checked",false)}});e(document).on("change",".ninja-forms-_text-send_email",function(){var t=this.id.replace("ninja_forms_field_","");t=t.replace("_send_email","");if(this.checked==true){e("#ninja_forms_field_"+t+"_email").prop("checked",true);if(e("#ninja_forms_field_"+t+"_default_value").val()!="_user_email"){e("#ninja_forms_field_"+t+"_default_value").val("");e("#default_value_"+t).val("");e("#default_value_label_"+t).hide()}e("#ninja_forms_field_"+t+"_mask").val("");e("#mask_"+t).val("");e("#mask_label_"+t).hide();e("#ninja_forms_field_"+t+"_datepicker").prop("checked",false)}});e(document).on("change",".ninja-forms-_text-from_email",function(){var t=this.id.replace("ninja_forms_field_","");t=t.replace("_from_email","");if(this.checked==true){e("#ninja_forms_field_"+t+"_email").prop("checked",true);if(e("#ninja_forms_field_"+t+"_default_value").val()!="_user_email"){e("#ninja_forms_field_"+t+"_default_value").val("");e("#default_value_"+t).val("");e("#default_value_label_"+t).hide()}e("#ninja_forms_field_"+t+"_mask").val("");e("#mask_"+t).val("");e("#mask_label_"+t).hide();e("#ninja_forms_field_"+t+"_datepicker").prop("checked",false)}});e(document).on("click",".ninja-forms-field-collapse-options",function(t){t.preventDefault();var n=this.id.replace("ninja_forms_field_","");n=n.replace("_collapse_options","");e("#ninja_forms_field_"+n+"_list_span").slideToggle(function(){})});e(document).on("change",".ninja-forms-_list-list_type",function(){var t=this.id.replace("ninja_forms_field_","");t=t.replace("_list_type","");if(this.value=="multi"){e("#ninja_forms_field_"+t+"_multi_size_p").show()}else{e("#ninja_forms_field_"+t+"_multi_size_p").hide()}if(this.value=="radio"||this.value=="checkbox"){e("#ninja_forms_field_"+t+"_label_pos").val("left");e("#ninja_forms_field_"+t+"_label_pos option[value='inside']").attr("disabled",true)}else{e("#ninja_forms_field_"+t+"_label_pos option[value='inside']").attr("disabled",false)}});e(".ninja-forms-field-list-options").sortable({helper:"clone",handle:".ninja-forms-drag",items:"div",placeholder:"ui-state-highlight"});e(document).on("change",".ninja-forms-field-list-show-value",function(t){var n=this.id.replace("ninja_forms_field_","");n=n.replace("_list_show_value","");if(this.checked){e(".ninja-forms-field-"+n+"-list-option-value").show()}else{e(".ninja-forms-field-"+n+"-list-option-value").hide()}});e(document).on("click",".ninja-forms-field-add-list-option",function(t){t.preventDefault();var n=this.id.replace("ninja_forms_field_","");n=n.replace("_list_add_option","");var r=e(".ninja-forms-field-"+n+"-list-option").length;var i=e("#ninja_forms_field_"+n+"_list_show_value").prop("checked");if(i){i=1}else{i=0}e.post(ajaxurl,{field_id:n,x:r,hidden_value:i,action:"ninja_forms_add_list_option"},function(t){e("#ninja_forms_field_"+n+"_list_options").append(t);e("#ninja_forms_field_"+n+"_list_option_"+r).fadeIn();e(".ninja-forms-field-conditional-value-list").each(function(){e(this).append("<option value='' title='"+r+"'></option>")});e("[name='ninja_forms_field_"+n+"\\[list\\]\\[options\\]\\["+r+"\\]\\[label\\]']").focus()})});e(document).on("click",".ninja-forms-field-remove-list-option",function(t){t.preventDefault();var n=this.id.replace("ninja_forms_field_","");n=n.replace("_list_remove_option","");var r=e(this).parent().prop("id");r=r.replace("ninja_forms_field_"+n+"_list_option_","");e(this).parent().parent().parent().parent().parent().fadeOut(300,function(){e(this).remove()});e(".ninja-forms-field-conditional-value-list").each(function(){e(this).children("option").each(function(){if(this.title==r){e(this).remove()}})})});e(document).on("keydown",".ninja-forms-field-list-option-label",function(t){if(t.keyCode==13){var n=this.id.replace("option_label","add_option");e("#"+n).click();return false}});e(document).on("keydown",".ninja-forms-field-list-option-value",function(t){if(t.keyCode==13){var n=this.id.replace("option_value","add_option");e("#"+n).click();return false}});e(document).on("keydown",".ninja-forms-field-list-option-calc",function(t){if(t.keyCode==13){var n=this.id.replace("option_calc","add_option");e("#"+n).click();return false}});e(document).on("keyup",".ninja-forms-field-list-option-label",function(){var t=this.id.replace("ninja_forms_field_","");t=t.replace("_list_option_label","");var n=this.value;var r=e(this).parent().prop("id").replace("ninja_forms_field_"+t+"_list_option_","");var i=e("#ninja_forms_field_"+t+"_list_show_value").prop("checked");e(".ninja-forms-field-conditional-cr-field").each(function(){if(this.value==t){e(this).nextElementInDom(".ninja-forms-field-conditional-cr-value-list").each(function(){e(this).children("option").each(function(){if(this.title==r){this.text=n;if(!i){this.value=n}}})})}});e(".ninja-forms-field-"+t+"-conditional-value").children("option").each(function(){if(this.title==r){this.text=n;if(!i){this.value=n}}})});e(document).on("keyup",".ninja-forms-field-list-option-value",function(){var t=this.id.replace("ninja_forms_field_","");t=t.replace("_list_option_value","");var n=this.value;var r=e(this).parent().parent().prop("id").replace("ninja_forms_field_"+t+"_list_option_","");e(".ninja-forms-field-conditional-cr-field").each(function(){if(this.value==t){e(this).nextElementInDom(".ninja-forms-field-conditional-cr-value-list").each(function(){e(this).children("option").each(function(){if(this.title==r){this.value=n}})})}});e(".ninja-forms-field-"+t+"-conditional-value").children("option").each(function(){if(this.title==r){this.value=n}})});e(document).on("change",".ninja-forms-hidden-default-value",function(){var t=e(this).attr("rel");if(this.value=="custom"){e("#ninja_forms_field_"+t+"_default_value").val("");e("#default_value_label_"+t).show();e("#ninja_forms_field_"+t+"_default_value").focus()}else{e("#ninja_forms_field_"+t+"_default_value").val(this.value);e("#default_value_label_"+t).hide()}});e(".cancel-list-import").click(function(e){e.preventDefault();tb_remove()});e(document).on("click",".save-list-import",function(t){t.preventDefault();var n=e(this).parent().find("textarea").val();var r=e(this).attr("rel");e.post(ajaxurl,{options:n,field_id:r,action:"ninja_forms_import_list_options"},function(t){e("#ninja_forms_field_"+r+"_list_options").append(t);tb_remove()})});e(document).on("change",".ninja-forms-list-populate-term",function(t,n){var r=e(this).attr("rel");if(this.value!=""){e.post(ajaxurl,{field_id:r,tax_name:this.value,from_ajax:1,action:"ninja_forms_list_terms_checkboxes"},function(t){e("#ninja_forms_field_"+r+"_exclude_terms").html(t);e("#ninja_forms_field_"+r+"_exclude_terms").show()})}else{e("#ninja_forms_field_"+r+"_exclude_terms").hide()}});e(document).on("change",".ninja-forms-_profile_pass-reg_password",function(){if(this.checked){e(".reg-password").parent().parent().show()}else{e(".reg-password").parent().parent().hide()}});e(document).on("click",".ninja-forms-field-add-calc",function(t){t.preventDefault();var n=e(this).attr("rel");var r=e(this).next(".spinner");e(r).show();var i=e("#ninja_forms_field_"+n+"_calc").find(".ninja-forms-calc-row:last").attr("rel");if(isNaN(i)){i=0}else{i=parseInt(i);i=i+1}e.post(ajaxurl,{field_id:n,x:i,action:"ninja_forms_add_calc_row"},function(t){e("#ninja_forms_field_"+n+"_calc").append(t);e(r).hide()})});e(document).on("click",".ninja-forms-field-remove-calc",function(t){t.preventDefault();var n=e(this).attr("rel");var r=e(this).attr("name");e("#ninja_forms_field_"+n+"_calc_row_"+r).hide(function(){e("#ninja_forms_field_"+n+"_calc_row_"+r).remove()})});e(document).on("keyup",".ninja-forms-calc-name",function(){var t=e(this).prop("id");t=t.replace("ninja_forms_field_","");t=t.replace("_calc_name","");var n=this.value;n=ninja_forms_escape_html(n);if(e.trim(n)==""){n="calc_name"}e(this).parent().parent().parent().prev().find(".ninja-forms-field-title").html(n)});e(document).bind("addField",function(t,n){e(".ninja-forms-calc-select").each(function(){e(this).append('<option value="'+n.new_id+'">'+n.new_id+" - "+n.new_type+"</option>")})});e(document).bind("removeField",function(t,n){e(".ninja-forms-calc-select option[value='"+n+"']").remove()});e(document).on("change",".ninja-forms-calc-display",function(t){var n=this.id.replace("ninja_forms_field_","");n=n.replace("_calc_display_type","");if(this.value=="html"){e("#ninja_forms_field_"+n+"_clac_text_display").hide();e("#ninja_forms_field_"+n+"_clac_html_display").show();e("#ninja_forms_field_"+n+"_clac_extra_display").show();e("#ninja_forms_field_"+n+"_label").val("")}else if(this.value=="text"){e("#ninja_forms_field_"+n+"_clac_text_display").show();e("#ninja_forms_field_"+n+"_clac_html_display").hide();e("#ninja_forms_field_"+n+"_clac_extra_display").show()}else{e("#ninja_forms_field_"+n+"_clac_text_display").hide();e("#ninja_forms_field_"+n+"_clac_html_display").hide();e("#ninja_forms_field_"+n+"_clac_extra_display").hide();e("#ninja_forms_field_"+n+"_label").val("")}});e(document).on("change",".ninja-forms-calc-method",function(t){if(this.value=="auto"){e(this).parent().parent().parent().find(".ninja-forms-calculations").hide();e(this).parent().parent().parent().find(".ninja-forms-eq").hide()}else if(this.value=="fields"){e(this).parent().parent().parent().find(".ninja-forms-calculations").show();e(this).parent().parent().parent().find(".ninja-forms-eq").hide()}else{e(this).parent().parent().parent().find(".ninja-forms-calculations").hide();e(this).parent().parent().parent().find(".ninja-forms-eq").show()}});e(document).on("change",".user-info-group-name",function(t){if(this.value=="custom"){e(this).parent().parent().next().find(".user-info-custom-group").show();e(this).parent().parent().next().find("label").show()}else{e(this).parent().parent().next().find("label").hide();e(this).parent().parent().next().find(".user-info-custom-group").hide()}});e(document).on("click",".ninja-forms-field-add-fav",function(t){t.preventDefault();var n=this.id.replace("ninja_forms_field_","");n=n.replace("_fav","");var r=new Object;var i=this.id;e("[name*='ninja_forms_field_"+n+"']").each(function(){tmp=this.name.replace("ninja_forms_field_"+n+"[","");tmp=tmp.replace("]","");if(this.type=="checkbox"){if(this.checked){r['"'+tmp+'"']=this.value}}else{r['"'+tmp+'"']=this.value}});var s=prompt("What would you like to name this favorite?","");if(s.length>=1){e.post(ajaxurl,{fav_name:s,field_data:r,field_id:n,action:"ninja_forms_add_fav"},function(t){e("#ninja_forms_field_"+n+"_fav").removeClass("ninja-forms-field-add-fav");e("#ninja_forms_field_"+n+"_fav").addClass("ninja-forms-field-remove-fav");e("#ninja_forms_sidebar_fav_fields").append(t.link_html);e("#ninja_forms_field_"+n+"_title").nextElementInDom(".item-type:first").prop("innerHTML",t.fav_name);e("#ninja_forms_field_"+n+"_fav_id").val(t.fav_id)})}else{var o=confirm("You must supply a name for this favorite.");if(o){e("#"+i).click()}}});e(document).on("click",".ninja-forms-field-remove-fav",function(t){t.preventDefault();var n=this.id.replace("ninja_forms_field_","");n=n.replace("_fav","");e.post(ajaxurl,{field_id:n,action:"ninja_forms_remove_fav"},function(t){e("#ninja_forms_insert_fav_field_"+t.fav_id+"_p").remove();e(".ninja-forms-field-fav-id").each(function(){if(this.value==t.fav_id){var n=this.id.replace("ninja_forms_field_","");n=n.replace("_fav_id","");e("#ninja_forms_field_"+n+"_fav").removeClass("ninja-forms-field-remove-fav");e("#ninja_forms_field_"+n+"_fav").addClass("ninja-forms-field-add-fav");e("#ninja_forms_field_"+n+"_title").nextElementInDom(".item-type:first").prop("innerHTML",t.type_name)}})})});e(document).on("click",".ninja-forms-insert-fav-field",function(t){t.preventDefault();var n=this.id.replace("ninja_forms_insert_fav_field_","");var r=e("#_form_id").val();e.post(ajaxurl,{fav_id:n,form_id:r,action:"ninja_forms_insert_fav"},ninja_forms_new_field_response)});e(document).on("click",".ninja-forms-field-add-def",function(t){t.preventDefault();var n=this.id.replace("ninja_forms_field_","");n=n.replace("_def","");var r=new Object;var i=this.id;e("[name*='ninja_forms_field_"+n+"']").each(function(){tmp=this.name.replace("ninja_forms_field_"+n+"[","");tmp=tmp.replace("]","");if(this.type=="checkbox"){if(this.checked){r['"'+tmp+'"']=this.value}}else{r['"'+tmp+'"']=this.value}});var s=prompt("What would you like to name this Defined Field?","");if(s.length>=1){e.post(ajaxurl,{def_name:s,field_data:r,field_id:n,action:"ninja_forms_add_def"},function(t){e("#ninja_forms_sidebar_def_fields").append(t.link_html);e("#ninja_forms_field_"+n+"_title").nextElementInDom(".item-type:first").prop("innerHTML",t.def_name);e("#ninja_forms_field_"+n+"_def_id").val(t.def_id)})}else{var o=confirm("You must supply a name for this Defined Field.");if(o){e("#"+i).click()}}});e(document).on("click",".ninja-forms-field-remove-def",function(t){t.preventDefault();var n=this.id.replace("ninja_forms_field_","");n=n.replace("_def","");e.post(ajaxurl,{field_id:n,action:"ninja_forms_remove_def"},function(t){e("#ninja_forms_insert_def_field_"+t.def_id+"_p").remove()})});e(document).on("click",".ninja-forms-insert-def-field",function(t){t.preventDefault();var n=this.name.replace("_","");var r=this.id.replace("ninja_forms_insert_def_field_","");var i=e("#_form_id").val();var s=this.rel;if(n!=""){var o=e("."+s+"-li").length}else{var o=""}if(n!=""&&o<n||n==""||o==""||o==0){e.post(ajaxurl,{def_id:r,form_id:i,action:"ninja_forms_insert_def"},ninja_forms_new_field_response)}});e(".ninja-forms-add-mailto").click(function(t){t.preventDefault();var n=this.id.replace("ninja_forms_add_mailto_","");if(e(".ninja-forms-mailto-address").length>0){var r=e(".ninja-forms-mailto-address:last").parent().prop("id");r=r.replace("ninja_forms_mailto_","");r=r.replace("_span","");r++}else{var r=0}var i='<span id="ninja_forms_mailto_'+r+'_span"><a href="#" id="" class="ninja-forms-remove-mailto">X</a> <input type="text" name="admin_mailto[]" id="" value="" class="ninja-forms-mailto-address"></span>';e("#ninja_forms_mailto").append(i);e(".ninja-forms-mailto-address:last").focus()});e(document).on("click",".ninja-forms-remove-mailto",function(t){t.preventDefault();e(this).parent().remove()})})