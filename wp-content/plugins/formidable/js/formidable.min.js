jQuery(document).ready(function(a){a(".frm_ajax_loading").css("visibility","hidden");a(document).on("click",".frm_trigger",frmToggleSection);a(".frm_blank_field").length&&a(".frm_blank_field").closest(".frm_toggle_container").prev(".frm_trigger").click();a.isFunction(a.fn.placeholder)?a(".frm-show-form input, .frm-show-form textarea").placeholder():jQuery(".frm-show-form input[onblur], .frm-show-form textarea[onblur]").each(function(){""===jQuery(this).val()&&jQuery(this).blur()});a(document).on("click",
'.frm-show-form input[type="submit"], .frm-show-form input[name="frm_prev_page"], .frm-show-form .frm_save_draft',frmSetNextPage);a(document).on("click",".frm_remove_link",frmRemoveDiv)});
function frmSetNextPage(a){"submit"!=jQuery(this).attr("type")&&a.preventDefault();a=jQuery(this).parents("form:first");var c="",d="";if("frm_prev_page"==jQuery(this).attr("name")||jQuery(this).hasClass("frm_prev_page"))c=jQuery(a).find(".frm_next_page").attr("id").replace("frm_next_p_","");else if("frm_save_draft"==jQuery(this).attr("name")||jQuery(this).hasClass("frm_save_draft"))d=1;jQuery(".frm_next_page").val(c);jQuery(".frm_saving_draft").val(d);"submit"!=jQuery(this).attr("type")&&a.trigger("submit")}
function frmToggleSection(){jQuery(this).next(".frm_toggle_container").slideToggle("fast");jQuery(this).toggleClass("active").children(".ui-icon-triangle-1-e, .ui-icon-triangle-1-s").toggleClass("ui-icon-triangle-1-s ui-icon-triangle-1-e")}function frmClearDefault(a,c){var d=a.replace(/(\n|\r\n)/g,"\r");jQuery(c).val().replace(/(\n|\r\n)/g,"\r")==d&&jQuery(c).removeClass("frm_default").val("")}
function frmReplaceDefault(a,c){var d=a.replace(/(\n|\r\n)/g,"\r");""===jQuery(c).val()&&jQuery(c).addClass("frm_default").val(d)}
function frmCheckDependent(a,c,d){if("undefined"!=typeof __FRMRULES){var f=__FRMRULES[c];if("undefined"!=typeof f){if("undefined"==typeof d||null===d)d="go";for(var e=[],h=0;h<f.length;h++){var k=f[h];if("undefined"!=typeof k)for(var l=0;l<k.Conditions.length;l++){var m=k.Conditions[l];m.HideField=k.Setting.FieldName;m.MatchType=k.MatchType;m.Show=k.Show;e.push(m)}}for(var g=[],n=[],p=e.length,h=0;h<p;h++)(function(f){var b=e[f];"undefined"==typeof g[b.HideField]&&(g[b.HideField]=[]);if(b.FieldName!=
c||"undefined"==typeof a||"und"==a){var h=a;"radio"==b.Type||"data-radio"==b.Type?a=jQuery("input[name='item_meta["+b.FieldName+"]']:checked, input[type='hidden'][name='item_meta["+b.FieldName+"]']").val():"select"==b.Type||"data-select"==b.Type?(a=jQuery("select[name^='item_meta["+b.FieldName+"]'], input[type='hidden'][name^='item_meta["+b.FieldName+"]']").val(),jQuery("input[type='hidden'][name^='item_meta["+b.FieldName+"]']").length&&(a=[],jQuery("input[type='hidden'][name^='item_meta["+b.FieldName+
"]']").each(function(){a.push(jQuery(this).val())}))):"checkbox"!=b.Type&&"data-checkbox"!=b.Type&&(a=jQuery("input[name^='item_meta["+b.FieldName+"]']").val())}"undefined"==typeof a&&(a=jQuery("input[type=hidden][name^='item_meta["+b.FieldName+"]']").val(),"undefined"==typeof a&&(a=""));if("checkbox"==b.Type||"data-checkbox"==b.Type&&"undefined"==typeof b.LinkedField)g[b.HideField][f]=!1,jQuery("input[name='item_meta["+b.FieldName+"][]']:checked, input[type='hidden'][name^='item_meta["+b.FieldName+
"]']").each(function(){var a=frmOperators(b.Condition,b.Value,jQuery(this).val());!1===g[b.HideField][f]&&a&&(g[b.HideField][f]=!0)});else if("data-radio"==b.Type)"undefined"==typeof b.DataType||""===b.DataType||"data"===b.DataType?""===a?(g[b.HideField][f]=!1,jQuery("#frm_field_"+b.HideField+"_container").fadeOut("slow"),jQuery("#frm_data_field_"+b.HideField+"_container").html("")):g[b.HideField][f]="undefined"==typeof b.DataType?frmOperators(b.Condition,b.Value,a):{funcName:"frmGetData",f:b,sel:a}:
g[b.HideField][f]=""===a?!1:{funcName:"frmGetDataOpts",f:b,sel:a};else if("data-checkbox"==b.Type&&"undefined"!=typeof b.LinkedField){var k=[];jQuery("input[name='item_meta["+b.FieldName+"][]']:checked, input[type='hidden'][name='item_meta["+b.FieldName+"][]']").each(function(){k.push(jQuery(this).val())});"undefined"==typeof b.DataType||""===b.DataType||"data"===b.DataType?k.length?(g[b.HideField][f]=!0,jQuery("#frm_data_field_"+b.HideField+"_container").html(""),frmGetData(b,k,1)):(g[b.HideField][f]=
!1,jQuery("#frm_field_"+b.HideField+"_container").fadeOut("slow"),jQuery("#frm_data_field_"+b.HideField+"_container").html("")):g[b.HideField][f]=k.length?{funcName:"frmGetDataOpts",f:b,sel:k}:!1}else"data-select"==b.Type&&"undefined"!=typeof b.LinkedField?""===b.DataType||"data"==b.DataType?""===a?(g[b.HideField][f]=!1,jQuery("#frm_data_field_"+b.HideField+"_container").html("")):a&&jQuery.isArray(a)?(g[b.HideField][f]=!0,jQuery("#frm_data_field_"+b.HideField+"_container").html(""),frmGetData(b,
a,1)):g[b.HideField][f]={funcName:"frmGetData",f:b,sel:a}:g[b.HideField][f]=""===a?!1:{funcName:"frmGetDataOpts",f:b,sel:a}:"undefined"==typeof b.Value&&0===b.Type.indexOf("data")?(b.Value=""===a?"1":a,g[b.HideField][f]=frmOperators(b.Condition,b.Value,a),b.Value=void 0):g[b.HideField][f]=frmOperators(b.Condition,b.Value,a);b.FieldName!=c&&(a=h);"any"==b.MatchType?!1!==g[b.HideField][f]?"show"==b.Show?!0!==g[b.HideField][f]?frmShowField(g[b.HideField][f],b.FieldName,d):jQuery("#frm_field_"+b.HideField+
"_container").show():jQuery("#frm_field_"+b.HideField+"_container").hide():n.push({result:g[b.HideField][f],show:b.Show,match:"any",fname:b.FieldName,fkey:b.HideField}):"all"==b.MatchType&&n.push({result:g[b.HideField][f],show:b.Show,match:"all",fname:b.FieldName,fkey:b.HideField});f==p-1&&jQuery.each(n,function(a,b){"undefined"!=typeof b&&"undefined"!=typeof b.result&&("any"==b.match&&-1==jQuery.inArray(!0,g[b.fkey])||"all"==b.match&&-1<jQuery.inArray(!1,g[b.fkey])?"show"==b.show?(jQuery("#frm_field_"+
b.fkey+"_container:hidden").hide(),jQuery("#frm_field_"+b.fkey+"_container").hide()):jQuery("#frm_field_"+b.fkey+"_container").show():"show"==b.show?jQuery("#frm_field_"+b.fkey+"_container").show():(jQuery("#frm_field_"+b.fkey+"_container:hidden").hide(),jQuery("#frm_field_"+b.fkey+"_container").hide()),!1!==typeof b.result&&!0!==typeof b.result&&frmShowField(b.result,b.fname,d),delete n[a])})})(h)}}}
function frmOperators(a,c,d){"undefined"==typeof d&&(d="");jQuery.isArray(d)&&-1<jQuery.inArray(c,d)&&(d=c);-1!=String(c).search(/^\s*(\+|-)?((\d+(\.\d+)?)|(\.\d+))\s*$/)&&(c=parseFloat(c),d=parseFloat(d));return"-1"!=String(c).indexOf("&quot;")&&frmOperators(a,c.replace("&quot;",'"'),d)?!0:{"==":function(a,e){return a==e},"!=":function(a,e){return a!=e},"<":function(a,e){return a>e},">":function(a,e){return a<e},LIKE:function(a,e){return-1!=e.indexOf(a)},"not LIKE":function(a,e){return-1==e.indexOf(a)}}[a](c,
d)}function frmShowField(a,c,d){"frmGetDataOpts"==a.funcName?frmGetDataOpts(a.f,a.sel,c,d):"frmGetData"==a.funcName&&frmGetData(a.f,a.sel,0)}
function frmGetData(a,c,d){d||jQuery("#frm_data_field_"+a.HideField+"_container").html('<span class="frm-loading-img"></span>');jQuery.ajax({type:"POST",url:frm_js.ajax_url,data:"action=frm_fields_ajax_get_data&entry_id="+c+"&field_id="+a.LinkedField+"&current_field="+a.HideField,success:function(f){""!==f&&jQuery("#frm_field_"+a.HideField+"_container").show();if(d)jQuery("#frm_data_field_"+a.HideField+"_container").append(f);else{jQuery("#frm_data_field_"+a.HideField+"_container").html(f);var e=
jQuery("#frm_data_field_"+a.HideField+"_container").children("input").val();""!==f&&""!==e||jQuery("#frm_field_"+a.HideField+"_container").hide();frmCheckDependent(c,a.HideField)}return!0}})}
function frmGetDataOpts(a,c,d,f){"undefined"==typeof frm_checked_dep&&(frm_checked_dep=[]);if(!("stop"==f&&-1<jQuery.inArray(a.HideField,frm_checked_dep)&&jQuery("input[type='hidden'][name^='item_meta["+d+"]']").length)){var e=[];if("checkbox"==a.DataType||"radio"==a.DataType)jQuery("input[name^='item_meta["+a.HideField+"]']:checked, input[type='hidden'][name^='item_meta["+a.HideField+"]']").each(function(){e.push(jQuery(this).val())});else if("select"==a.DataType)if(jQuery("input[type='hidden'][name^='item_meta["+
a.HideField+"]']").length)jQuery("input[type='hidden'][name^='item_meta["+a.HideField+"]']").each(function(){e.push(jQuery(this).val())});else if(jQuery("select[name^='item_meta["+a.HideField+"]']").length)e=jQuery("select[name^='item_meta["+a.HideField+"]']").val();else{if(("stop"==f||jQuery("#frm_data_field_"+a.HideField+"_container .frm-loading-img").length)&&-1<jQuery.inArray(a.HideField,frm_checked_dep))return}else e.push(jQuery("input[name^='item_meta["+a.HideField+"]']").val());if(null===e||
0===e.length)e="";frm_checked_dep.push(a.HideField);if(!jQuery("#frm_data_field_"+a.HideField+"_container").length&&jQuery("input[type='hidden'][name^='item_meta["+a.HideField+"]']").length)return frmCheckDependent(e,a.HideField,"stop"),!1;jQuery("#frm_data_field_"+a.HideField+"_container").html('<span class="frm-loading-img" style="visibility:visible;display:inline;"></span>');jQuery.ajax({type:"POST",url:frm_js.ajax_url,data:"action=frm_fields_ajax_data_options&hide_field="+d+"&entry_id="+c+"&selected_field_id="+
a.LinkedField+"&field_id="+a.HideField,success:function(c){""===c?(jQuery("#frm_field_"+a.HideField+"_container").hide(),e=""):"all"!=a.MatchType&&jQuery("#frm_field_"+a.HideField+"_container").show();jQuery("#frm_data_field_"+a.HideField+"_container").html(c);if(""!==c&&""!==e){if(!jQuery.isArray(e)){var d=[];d.push(e);e=d}jQuery.each(e,function(c,d){"undefined"!=typeof d&&("checkbox"==a.DataType||"radio"==a.DataType?jQuery("#field_"+a.HideField+"-"+d).attr("checked","checked"):"select"==a.DataType?
jQuery("select[name^='item_meta["+a.HideField+"]'] option[value="+d+"]").length?jQuery("select[name^='item_meta["+a.HideField+"]'] option[value="+d+"]").prop("selected",!0):e.splice(c,1):jQuery("input[name^='item_meta["+a.HideField+"]']").val(d))})}jQuery(c).hasClass("frm_chzn")&&jQuery().chosen&&jQuery(".frm_chzn").chosen();frmCheckDependent(e,a.HideField,"stop")}})}}
function frmOnSubmit(a){a.preventDefault();jQuery(this).find(".wp-editor-wrap").length&&"undefined"!=typeof tinyMCE&&tinyMCE.triggerSave();frmGetFormErrors(this)}
function frmGetFormErrors(a){jQuery(a).find('input[type="submit"], input[type="button"]').attr("disabled","disabled");jQuery(a).find(".frm_ajax_loading").css("visibility","visible");frm_checked_dep=[];var c="",d=0,f=0;jQuery.ajax({type:"POST",url:frm_js.ajax_url,data:jQuery(a).serialize()+"&action=frm_entries_"+jQuery(a).find('input[name="frm_action"]').val()+"&_ajax_nonce=1",success:function(e){e=e.replace(/^\s+|\s+$/g,"");0===e.indexOf("{")&&(e=jQuery.parseJSON(e));if(""===e||!e||"0"===e||"object"!=
typeof e&&0===e.indexOf("<!DOCTYPE"))jQuery("#frm_loading").length&&(e=jQuery(a).find("input[type=file]").val(),"undefined"!=typeof e&&""!==e&&setTimeout(function(){jQuery("#frm_loading").fadeIn("slow")},2E3)),jQuery(a).find("#recaptcha_area").length&&(1>jQuery(a).find(".frm_next_page").length||1>jQuery(a).find(".frm_next_page").val())&&jQuery(a).find("#recaptcha_area").replaceWith(""),a.submit();else if("object"!=typeof e){jQuery(a).find(".frm_ajax_loading").css("visibility","hidden");c=jQuery(a).closest("#frm_form_"+
jQuery(a).find('input[name="form_id"]').val()+"_container");d=c.offset().top;c.replaceWith(e);f=document.documentElement.scrollTop||document.body.scrollTop;d&&0<d&&f>d&&jQuery(window).scrollTop(d);if("function"==typeof frmThemeOverride_frmAfterSubmit){var h=jQuery(e).find('input[name="form_id"]').val(),k="";h&&(k=jQuery('input[name="frm_page_order_'+h+'"]').val());frmThemeOverride_frmAfterSubmit(h,k,e)}jQuery(a).find('input[name="id"]').length&&(e=jQuery(a).find('input[name="id"]').val(),jQuery("#frm_edit_"+
e).find("a").addClass("frm_ajax_edited").click())}else{jQuery(a).find('input[type="submit"], input[type="button"]').removeAttr("disabled");jQuery(a).find(".frm_ajax_loading").css("visibility","hidden");h=!0;jQuery(".form-field").removeClass("frm_blank_field");jQuery(".form-field .frm_error").replaceWith("");c="";var k=!1,l;for(l in e)if(jQuery(a).find("#frm_field_"+l+"_container").length&&jQuery("#frm_field_"+l+"_container").is(":visible")){h=!1;if(""===c){c="#frm_field_"+l+"_container";d=jQuery(a).find(c).offset().top;
var m=jQuery("html").css("margin-top");d&&m&&(d-=parseInt(m));f=document.documentElement.scrollTop||document.body.scrollTop;d&&f>d&&jQuery(window).scrollTop(d-4)}jQuery(a).find("#frm_field_"+l+"_container #recaptcha_area").length&&(k=!0,Recaptcha.reload());jQuery(a).find("#frm_field_"+l+"_container").addClass("frm_blank_field");"function"==typeof frmThemeOverride_frmPlaceError?frmThemeOverride_frmPlaceError(l,e):jQuery(a).find("#frm_field_"+l+"_container").append('<div class="frm_error">'+e[l]+"</div>")}else if("redirect"==
l){window.location=e[l];return}!0!==k&&jQuery(a).find("#recaptcha_area").replaceWith("");h&&a.submit()}},error:function(){jQuery(a).find('input[type="submit"], input[type="button"]').removeAttr("disabled");a.submit()}})}
function frmEditEntry(a,c,d,f,e,h){var k=jQuery("#frm_edit_"+a).text(),l=jQuery("#"+c+a).html();jQuery("#"+c+a).html('<span class="frm-loading-img" id="'+c+a+'"></span><div class="frm_orig_content" style="display:none">'+l+"</div>");jQuery.ajax({type:"POST",url:frm_js.ajax_url,dataType:"html",data:"action=frm_entries_edit_entry_ajax&post_id="+d+"&entry_id="+a+"&id="+f,success:function(l){jQuery("#"+c+a).children(".frm-loading-img").replaceWith(l);jQuery("#frm_edit_"+a).replaceWith('<span id="frm_edit_'+
a+'"><a onclick="frmCancelEdit('+a+",'"+c+"','"+k+"',"+d+","+f+",'"+h+'\')" class="'+h+'">'+e+"</a></span>")}})}
function frmCancelEdit(a,c,d,f,e,h){var k=jQuery("#frm_edit_"+a).text();jQuery("#frm_edit_"+a).find("a").hasClass("frm_ajax_edited")||(jQuery("#"+c+a).children(".frm_forms").replaceWith(""),jQuery("#"+c+a).children(".frm_orig_content").fadeIn("slow").removeClass("frm_orig_content"));jQuery("#frm_edit_"+a).replaceWith('<a id="frm_edit_'+a+'" class="frm_edit_link '+h+'" href="javascript:frmEditEntry('+a+",'"+c+"',"+f+","+e+",'"+k+"','"+h+"')\">"+d+"</a>")}
function frmUpdateField(a,c,d,f,e){jQuery("#frm_update_field_"+a+"_"+c).html('<span class="frm-loading-img"></span>');jQuery.ajax({type:"POST",url:frm_js.ajax_url,data:"action=frm_entries_update_field_ajax&entry_id="+a+"&field_id="+c+"&value="+d,success:function(){""===f.replace(/^\s+|\s+$/g,"")?jQuery("#frm_update_field_"+a+"_"+c+"_"+e).fadeOut("slow"):jQuery("#frm_update_field_"+a+"_"+c+"_"+e).replaceWith(f)}})}
function frmDeleteEntry(a,c){jQuery("#frm_delete_"+a).replaceWith('<span class="frm-loading-img" id="frm_delete_'+a+'"></span>');jQuery.ajax({type:"POST",url:frm_js.ajax_url,data:"action=frm_entries_destroy&entry="+a,success:function(d){"success"==d.replace(/^\s+|\s+$/g,"")?jQuery("#"+c+a).fadeOut("slow"):jQuery("#frm_delete_"+a).replaceWith(d)}})}function frmRemoveDiv(){jQuery(this).parent(".frm_uploaded_files").fadeOut("slow").replaceWith("")}
function frmNextUpload(a,c){a.wrap('<div class="frm_file_names frm_uploaded_files">');for(var d=a.get(0).files,f=0;f<d.length;f++)1==d.length?a.after(d[f].name+' <a href="#" onclick="frmClearFile(jQuery(this));return false;">'+frm_js.remove+"</a>"):a.after(d[f].name+"<br/>");a.hide();jQuery("#frm_field_"+c+"_container").append('<input name="file'+c+'[]" multiple="multiple" type="file" onchange="frmNextUpload(jQuery(this),'+c+')"/>')}
function frmClearFile(a){a.parent(".frm_file_names").replaceWith("");return!1}function frm_resend_email(a,c){jQuery("#frm_resend_email").replaceWith('<img id="frm_resend_email" src="'+frm_js.images_url+'/wpspin_light.gif" alt="'+frm_js.loading+'" />');jQuery.ajax({type:"POST",url:frm_js.ajax_url,data:"action=frm_entries_send_email&entry_id="+a+"&form_id="+c+"&type=email",success:function(a){jQuery("#frm_resend_email").replaceWith(a)}})}
function frmScrollMsg(a){(a=jQuery("#frm_form_"+a+"_container").offset())&&window.scrollTo(a.left,a.top-28)}jQuery.fn.frmVisible=function(){return this.css("visibility","visible")};jQuery.fn.frmInvisible=function(){return this.css("visibility","hidden")};jQuery.fn.frmVisibilityToggle=function(){return this.css("visibility",function(a,c){return"visible"==c?"hidden":"visible"})};